.header {
  @apply flex items-center justify-center
  sticky
  overflow-x-clip lg:overflow-x-visible
  h-20 w-full top-0
  shadow-[var(--shadow-default)]
  z-[var(--z-index-floating-button)]
  bg-palette-90
  lg:bg-transparent
  lg:backdrop-blur-md
  lg:child:bg-transparent dark:lg:child:bg-transparent
  lg:parent:bg-transparent dark:lg:parent:bg-transparent;

  .container {
    @apply flex items-center justify-between
    w-full;

    .navbar-logo {
      @apply text-[1.7rem] md:text-[2rem]
      font-semibold
      text-palette
      no-underline cursor-pointer;
    }

    .navbar-switchers {
      @apply flex items-center gap-8;

      .lang-switcher {
        @apply flex items-center justify-center
          w-8
          m-0 p-0 border-none
          cursor-pointer
          transition-all duration-[0.3s] ease-[ease-in-out]
          hover:shadow-[var(--shadow-soft)]
          hover:scale-110;
      }

      .palette_switcher {
        @apply flex items-center;

        .palette_switcher__icon {
          @apply w-8 h-8
            /* Заменяем цвета для неактивной иконки */
            opacity-33
            transition-all duration-[0.7s] ease-[ease]
            hover:scale-110
            hover:shadow-[var(--shadow-soft)]
            border-rounded-variants
            border-2 border-solid border-transparent;

          &.active {
            /* Возвращаем цвет */
            @apply opacity-100;
          }

          &:hover {
            @apply text-palette
              border-2 border-palette-accent
              bg-palette-secondary;
          }
        }
      }
    }

    /* Mobile hamburger menu - visible by default */
    .navbar-toggle {
      @apply block lg:hidden
      cursor-pointer
      p-2.5 m-6 border-none
      z-[var(--z-index-floating-button)]
      bg-transparent;

      .bar {
        @apply block 
          w-[25px] h-[3px]
          bg-family-text-light dark:bg-family-text-dark
          child:bg-child-text-light dark:child:bg-child-text-dark
          parent:bg-parent-text-light dark:parent:bg-parent-text-dark
          transition-all duration-[0.3s] ease-[ease-in-out]
          mx-auto my-[5px];
      }

      /* Hamburger animation */
      &.active .bar:nth-child(2) {
        @apply opacity-0;
      }

      &.active .bar:nth-child(1) {
        @apply translate-y-2 -rotate-45;
      }

      &.active .bar:nth-child(3) {
        @apply -translate-y-2 rotate-45;
      }
    }

    /* Mobile menu - hidden by default, show as hamburger */
    .navbar-menu {
      @apply /* hidden lg: */ block
        absolute
        backdrop-blur-md
        shadow-[var(--shadow-default)]
        h-screen
        /* Почему-то менюшка задирается наверх */
        top-0 right-0
        translate-x-[150%]
        lg:translate-x-0
        lg:static
        lg:shadow-none
        lg:h-auto
        lg:backdrop-blur-none
        lg:bg-transparent
        transition-transform duration-300 ease-in-out;

      &.active {
        @apply translate-x-0;
      }

      ul {
        @apply flex flex-col
          items-start gap-[1.7rem]
          w-[250px] px-6 py-20
          list-none          
          lg:flex-row
          lg:items-center
          lg:h-auto
          lg:w-auto
          lg:gap-6
          lg:p-0;

        li {
          @apply transition-transform duration-[0.7s] ease-[ease]
          hover:scale-110;

          a {
            @apply text-[1.2rem] font-medium text-palette
            transition-colors duration-[0.7s] ease-[ease]
            whitespace-nowrap px-[15px] py-[3px]
            border-rounded-variants
            border-2 border-solid border-transparent
            md:text-[1.3rem] md:px-5 md:py-[3px]
            hover:shadow-[var(--shadow-soft)];

            &:hover,
            &.active {
              @apply border-palette-accent bg-palette-secondary;
            }
          }
        }
      }
    }
  }
}
